server:
  port: 8081

spring:
  servlet:
    multipart:
      max-file-size: 5MB
      max-request-size: 5MB
  application:
    name: collegebuddy-api

  datasource:
    url: jdbc:postgresql://localhost:5432/collegebuddy
    username: collegebuddy
    password: collegebuddy
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
    show-sql: false

  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration
    validate-on-migrate: true

  mail:
    host: localhost
    port: 1025
    username: ''
    password: ''
    properties:
      mail:
        smtp:
          auth: false
          starttls:
            enable: false

collegebuddy:
  jwt:
    secret: "dGhpc19pc19hX3Zlcnlfc2VjdXJlX3NlY3JldF9rZXlfZm9yX2p3dF90b2tlbl9zaWduaW5nXzI1Nl9iaXRz"
    ttlSeconds: 3600

  # Email delivery strategy: 'logging' (dev) or 'smtp' (prod)
  email:
    strategy: logging

  # Frontend URL for email links
  frontend:
    url: http://localhost:3000

  # Storage configuration
  storage:
    local:
      upload-dir: uploads/avatars/

logging:
  level:
    com.collegebuddy: DEBUG
    org.springframework.security: DEBUG
    org.flywaydb: DEBUG


    #    EMAIL VERIFICATION using SENDGRID

    #server:
    #  port: 8081
    #
    #spring:
    #  servlet:
    #    multipart:
    #      max-file-size: 5MB
    #      max-request-size: 5MB
    #  application:
    #    name: collegebuddy-api
    #
    #  datasource:
    #    url: jdbc:postgresql://localhost:5432/collegebuddy
    #    username: collegebuddy
    #    password: collegebuddy
    #    driver-class-name: org.postgresql.Driver
    #
    #  jpa:
    #    hibernate:
    #      ddl-auto: validate
    #    properties:
    #      hibernate:
    #        dialect: org.hibernate.dialect.PostgreSQLDialect
    #        format_sql: true
    #    show-sql: false
    #
    #  flyway:
    #    enabled: true
    #    baseline-on-migrate: true
    #    locations: classpath:db/migration
    #    validate-on-migrate: true
    #
    #  mail:
    #    host: smtp.sendgrid.net          # SendGrid SMTP for custom domain
    #    port: 587
    #    username: apikey                  # SendGrid uses literal string "apikey" as username
    #    password: YOUR_SENDGRID_API_KEY  # Replace with your SendGrid API key
    #    properties:
    #      mail:
    #        smtp:
    #          auth: true
    #          starttls:
    #            enable: true
    #            required: true
    #          timeout: 5000
    #          connectiontimeout: 5000
    #          writetimeout: 5000
    #        transport:
    #          protocol: smtp
    #        debug: false
    #
    #collegebuddy:
    #  jwt:
    #    secret: "dGhpc19pc19hX3Zlcnlfc2VjdXJlX3NlY3JldF9rZXlfZm9yX2p3dF90b2tlbl9zaWduaW5nXzI1Nl9iaXRz"
    #    ttlSeconds: 3600
    #
    #  # Email delivery strategy: 'logging' (dev) or 'smtp' (prod)
    #  email:
    #    strategy: smtp  # Changed from 'logging' to 'smtp' for real email sending
    #    from: noreply@collegebuddy.app  # From address for all emails
    #
    #  # Frontend URL for email links
    #  frontend:
    #    url: http://localhost:3000
    #
    #  # Storage configuration
    #  storage:
    #    local:
    #      upload-dir: uploads/avatars/
    #
    #logging:
    #  level:
    #    com.collegebuddy: DEBUG
    #    org.springframework.security: DEBUG
    #    org.flywaydb: DEBUG